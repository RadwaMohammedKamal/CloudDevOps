# Default values for voting-app
replicaCount:
  vote: 2
  worker: 2
  result: 2

# Image registry configuration
image:
  vote:
    repository: 172.30.2.117:5000/voting-app/vote
    tag: "latest"
    pullPolicy: Always
  worker:
    repository: 172.30.2.117:5000/voting-app/worker
    tag: "latest"
    pullPolicy: Always
  result:
    repository: 172.30.2.117:5000/voting-app/result
    tag: "latest"
    pullPolicy: Always

# MongoDB Atlas Configuration
mongodb:
  secretName: mongodb-atlas-credentials
  secretKey: connection-string
  databaseName: voting

service:
  vote:
    type: ClusterIP
    port: 80
    targetPort: 80
  result:
    type: ClusterIP
    port: 80
    targetPort: 80

resources:
  vote:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"
  worker:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "512Mi"
      cpu: "400m"
  result:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"

# Ingress configuration (using NLB + API Gateway)
ingress:
  enabled: true
  className: nginx
  hosts:
    - host: vote.yourdomain.com
      paths:
        - path: /
          pathType: Prefix
          service: vote
    - host: result.yourdomain.com
      paths:
        - path: /
          pathType: Prefix
          service: result

affinity: {}
tolerations: []
nodeSelector: {}